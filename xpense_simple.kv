#:kivy 2.1.0
#:import sp kivy.metrics.sp

<MainScreen>:
    name: 'main'
    MDBoxLayout:
        orientation: 'vertical'
        spacing: dp(5)
        padding: dp(5)
        
        MDTopAppBar:
            title: "Xpense - P≈ôehled"
            elevation: 2
            size_hint_y: None
            height: dp(56)
            right_action_items: [["cog", lambda x: app.switch_screen('settings')], ["credit-card", lambda x: app.switch_screen('expenses')]]
            
        Widget:
            size_hint_y: None
            height: dp(10)
            
        MDCard:
            size_hint: 1, None
            height: dp(180)
            elevation: 3
            padding: dp(15)
            md_bg_color: app.theme_cls.primary_color
            radius: [10, 10, 10, 10]
            
            MDBoxLayout:
                orientation: 'vertical'
                spacing: dp(8)
                
                MDLabel:
                    id: daily_budget_label
                    text: "Denn√≠ rozpoƒçet: 0 Kƒç"
                    font_style: "H5"
                    theme_text_color: "Primary"
                    text_color: 1, 1, 1, 1
                    halign: "center"
                    size_hint_y: None
                    height: dp(40)
                    
                MDLabel:
                    id: days_label  
                    text: "Dn≈Ø do v√Ωplaty: 0"
                    font_style: "Subtitle1"
                    text_color: 1, 1, 1, 0.8
                    halign: "center"
                    size_hint_y: None
                    height: dp(30)
                    
                MDLabel:
                    id: expenses_label
                    text: "Zb√Ωvaj√≠c√≠ v√Ωdaje: 0 Kƒç"
                    font_style: "Body1"
                    text_color: 1, 1, 1, 0.8
                    halign: "center"
                    size_hint_y: None
                    height: dp(25)
                    
        Widget:
            size_hint_y: None
            height: dp(20)
                    
        MDRaisedButton:
            text: "AKTUALIZOVAT P≈òEHLED"
            size_hint: 1, None
            height: dp(48)
            md_bg_color: app.theme_cls.accent_color
            on_release: app.update_main_screen()
            
        Widget:

<SimpleSettingsScreen>:
    name: 'settings'
    MDBoxLayout:
        orientation: 'vertical'
        
        MDTopAppBar:
            title: "Nastaven√≠"
            size_hint_y: None
            height: dp(56)
            left_action_items: [["arrow-left", lambda x: app.switch_screen('main')]]
        
        MDScrollView:
            do_scroll_x: False
            
            MDBoxLayout:
                orientation: 'vertical'
                spacing: dp(25)
                size_hint_y: None
                height: self.minimum_height
                padding: [dp(30), dp(40), dp(30), dp(60)]
                
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: dp(8)
                    size_hint_y: None
                    height: dp(80)
                    
                    MDLabel:
                        text: "üí∞ Mƒõs√≠ƒçn√≠ p≈ô√≠jem (Kƒç)"
                        theme_text_color: "Primary"
                        font_style: "Subtitle1"
                        size_hint_y: None
                        height: dp(30)
                    
                    MDTextField:
                        id: income_field
                        hint_text: "Zadejte v√Ω≈°i p≈ô√≠jmu"
                        multiline: False
                        input_filter: 'float'
                        size_hint_y: None
                        height: dp(50)
                        
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: dp(8)
                    size_hint_y: None
                    height: dp(80)
                    
                    MDLabel:
                        text: "üìÖ Den v√Ωplaty (1-31)"
                        theme_text_color: "Primary"
                        font_style: "Subtitle1"
                        size_hint_y: None
                        height: dp(30)
                    
                    MDTextField:
                        id: payday_field
                        hint_text: "Zadejte den v√Ωplaty"
                        multiline: False
                        input_filter: 'int'
                        size_hint_y: None
                        height: dp(50)
                
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: dp(8)
                    size_hint_y: None
                    height: dp(80)
                    
                    MDLabel:
                        text: "üí≥ Aktu√°ln√≠ z≈Østatek (Kƒç)"
                        theme_text_color: "Primary"
                        font_style: "Subtitle1"
                        size_hint_y: None
                        height: dp(30)
                    
                    MDTextField:
                        id: balance_field
                        hint_text: "Zadejte z≈Østatek"
                        multiline: False
                        input_filter: 'float'
                        size_hint_y: None
                        height: dp(50)
                
                Widget:
                    size_hint_y: None
                    height: dp(30)
                
                MDRaisedButton:
                    text: "üíæ ULO≈ΩIT NASTAVEN√ç"
                    size_hint: 1, None
                    height: dp(56)
                    md_bg_color: app.theme_cls.primary_color
                    font_size: sp(16)
                    elevation: 2
                    on_release: app.save_settings()

<ExpensesScreen>:
    name: 'expenses'
    MDBoxLayout:
        orientation: 'vertical'
        spacing: 0
        
        MDTopAppBar:
            title: "Pravideln√© v√Ωdaje"
            size_hint_y: None
            height: dp(56)
            left_action_items: [["arrow-left", lambda x: app.switch_screen('main')]]
            right_action_items: [["plus", lambda x: app.show_add_expense_dialog()]]
            
        MDScrollView:
            do_scroll_x: False
            do_scroll_y: True
            
            MDList:
                id: expenses_list
                spacing: dp(5)
                padding: [dp(10), dp(10)]
